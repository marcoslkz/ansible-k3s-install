---
- hosts: all
  become: true
  gather_facts: yes
  tasks:
  - name: Upgrade all packages
    ansible.builtin.dnf:
      name: "*"
      state: latest
  - name: Install dependencies
    ansible.builtin.dnf:
      name: 
        - python3-setuptools
  - name: install the package, force upgrade
    pip:
      name: pip
      executable: pip3
      state: latest
  - name: install pip pre-requisites
    pip:
      state: latest
      name:
        - python-setuptools
        - openshift
        - pyyaml
        - kubernetes 
- import_playbook: 01-docker.yaml
- import_playbook: 02-actions.yaml
- import_playbook: 03-k3s.yaml
- import_playbook: 04-helm.yaml
- import_playbook: 05-path.yaml
